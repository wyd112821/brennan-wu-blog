(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{361:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"个人博客搭建部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#个人博客搭建部署"}},[t._v("#")]),t._v(" 个人博客搭建部署")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("前言")]),t._v(" "),s("p",[t._v("当我们使用vuepress搭建好属于自己风格的博客，我们需要重新打包并放在GitHub或者自己的私服上，但是当我们一旦更新博客，我们便需要重新打包上传，这般繁琐并不适合常态化的更新博客，于是便有了将打包，上传，部署进行自动化的需求,同时GitHub访问速度缓慢，同步并部署至Gitee上，以保证国内访问速度。")])]),t._v(" "),s("h2",{attrs:{id:"github-actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-actions"}},[t._v("#")]),t._v(" GitHub Actions")]),t._v(" "),s("p",[t._v("GitHub Actions 是 GitHub 的持续集成服务，于2018年10月推出。官方还推出了相关插件库市场，可以直接使用他人写好的插件，如果你想详细了解GitHub Actions 请参考阮一峰老师的博客"),s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Actions入门"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("使用Github Actions我们可以实现：")]),t._v(" "),s("ul",[s("li",[t._v("监听git push 自动打包")]),t._v(" "),s("li",[t._v("分离博客源码和打包后代码")]),t._v(" "),s("li",[t._v("自动部署发布")])]),t._v(" "),s("p",[t._v("简单来说，它的作用便是，当我们将新博客push到仓库中，后续的打包发布都不需要我们去管，其次，为了更方便对博客文章进行管理，我将博客源码（私有）和部署博客（公开）分别放在两个仓库中。接下来便是实现方式。")]),t._v(" "),s("h2",{attrs:{id:"github-actions配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-actions配置"}},[t._v("#")]),t._v(" GitHub Actions配置")]),t._v(" "),s("p",[t._v("在博客源码仓库中，选择Actions,点击Set up this workflow;")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/xxx.4irlxmgxnq0w.webp",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"配置actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置actions"}},[t._v("#")]),t._v(" 配置Actions")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Automatic blog update "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 该Action的名字")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# on:何时触发该事件. ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在push或pull请求事件时触发工作流，但只针对主分支")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" master "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pull_request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" master "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 允许从Actions选项卡手动运行此工作流")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("workflow_dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 工作流运行由一个或多个jobs组成，这些job可以按顺序或并行运行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此工作流包含一个名为“build-deploy”的job。")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-deploy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 改job运行于什么虚拟机上")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Ubuntu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.04")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# steps表示将作为job一部分执行的一系列任务")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@master "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换分支到master")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fetch-depth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Use Node.js 12.x  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用nodejs 12.x版本")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node@v1\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node-version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12.x'")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" install and build\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" deploy "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#部署至GitHub")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" peaceiris/actions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("gh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages@v3 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#和上面一样，这里使用的是他人写好的插件库，作用是发布到其他仓库中或者其他分支上，想要具体了解可以在插件库中搜索")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.BLOG "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# key")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("external_repository")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wyd112821/Brennan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Wu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Blog "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#推送到该仓库中，地址格式为github名称/仓库名")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publish_branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分支名")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publish_dir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs/.vuepress/dist "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#要推送的内容（打包后的博客文件夹）")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sync to Gitee "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步到Gitee")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wearerequired/git"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mirror"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@d5724af3876c8fdfdb59312c99df0d11b769ca8c\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_RSA_PRIVATE_KEY")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SSH_PRIVATE_KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.BLOG "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 GitHub 公开仓库地址")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source-repo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" git@github.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("wyd112821/Brennan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Wu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Blog.git\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 目标仓库地址")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination-repo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" git@gitee.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("wuyadong112821/brennan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("wu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("blog.git\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" deploy2 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#部署到gitee")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yanglbme/gitee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.3.2\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.BLOG "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# key")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wuyadong112821\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-repo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wuyadong112821/brennan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("wu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("blog "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#推送到该仓库中，地址格式为gitee名称/仓库名")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分支名")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br")])]),s("p",[t._v("配置好之后commit即可。")]),t._v(" "),s("h2",{attrs:{id:"配置-deploy-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-deploy-key"}},[t._v("#")]),t._v(" 配置 deploy_key")]),t._v(" "),s("p",[t._v("配置过程中容易出错的便是deploy_key的配置,设置deploy_key的目的是获取push权限，并且不被其他人所见。")]),t._v(" "),s("p",[t._v("如何设置deploy_key？")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在cmd中执行 ssh-keygen -t rsa -C yourname@youremail.com")])]),t._v(" "),s("li",[s("p",[t._v("生成了两个文件 xx(私有) 和 xx.pub(公有)")])]),t._v(" "),s("li",[s("p",[t._v("打开部署博客（公开）的仓库的Settings > Deploy_keys > Add depoly_key")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_0002.3aywl40k91c0.webp",alt:"微信截图_0002"}})]),t._v(" "),s("ul",[s("li",[t._v("为了方便分辩，我将名称设置为BLOG,再将xx.pub(公有)的内容复制到文本框中，勾选Allow write access(写入权限)最后选择Add Key")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_0003.1o70fsujrxvk.webp",alt:"微信截图_0003"}})]),t._v(" "),s("ul",[s("li",[t._v("打开博客源码所在仓库的Settings,选择Secrets,与添加Deploy_key相仿，选择添加新的Secret，添加名称（建议与deploy_key相同），将xx(私有)的内容复制到文本框，最后选择Add Secret;")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_0004.7dz8w195q074.webp",alt:"微信截图_0004"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("初始化Gitee博客仓库，创建时，可以顺便把GitHub仓库的代码拉下来，然后选择 服务>Gitee Pages 配置一下博客并启动；")])]),t._v(" "),s("li",[s("p",[t._v("在Gitee中，点击右上角头像 > 设置 > SSH公钥，同GitHub上一样，设置一个ssh key，这里推荐使用同一个key（BLOG)")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_0005.6wts1sym3ugw.webp",alt:"微信截图_0005"}})]),t._v(" "),s("ul",[s("li",[t._v("在Gitee中，点击右上角头像 > 设置，进行第三方账号绑定，将微信绑定；")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_0006.1blomcu3gj5s.webp",alt:"微信截图_0006"}})]),t._v(" "),s("ul",[s("li",[t._v("在Github源代码仓库 Settings > Secrets 中设置了BlOG变量，这一次再增加GITEE变量，变量内容为Gitee的密码。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://jsd.onmicrosoft.cn/gh/wyd112821/Blogger@master/static_files/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20220928191531.32nkootbcxj4.webp",alt:"微信截图_20220928191531"}})]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("总结")]),t._v(" "),s("p",[t._v("至此，我前面提到的需求就实现啦，只需要把源码push到github仓库这一个步骤，后面的博客打包、部署到github和gitee等工作都由GitHub Actions来自动完成。")]),t._v(" "),s("p",[t._v("如下你想查看部署日志，你可以到github仓库的Actions这一项查看。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);